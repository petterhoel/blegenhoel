---
import BaseLayout from '../BaseLayout.astro'
import ContactDetails from '../ContactDetails.astro'
import { getLangFromUrl, useTranslation } from '../i18n/utils'
import { getAboutWorksText } from './about.client'
import CmsPortableText from '../cms-integration/CmsPortableText.astro'

const { aboutWorks } = await getAboutWorksText()
const language = getLangFromUrl(Astro.url)
const content = aboutWorks[language]
const t = useTranslation(language)
const title = t('title.about-works')
---

<BaseLayout title={title}>
  <article>
    <CmsPortableText value={content} />
  </article>
  <aside>
    <ContactDetails />
  </aside>
</BaseLayout>
